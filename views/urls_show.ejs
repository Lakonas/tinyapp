<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link rel="stylesheet" href="/styles/style.css" />
    <title>ShortStop - URL Details</title>
  </head>

  <body>
    <%- include('partials/_header') %>

    <main style="margin: 2em auto; max-width: 800px; padding: 0 1em;">
      <!-- URL Info Card -->
      <div class="card text-center mb-4">
        <div class="card-header">
          <h5>URL Details</h5>
        </div>
        <div class="card-body">
          <h5 class="card-title">ShortStop URL for: <%= longURL %></h5>
          <p class="card-text">
            Short URL ID: <a href="/u/<%= id %>" target="_blank"><%= id %></a>
          </p>
          
          <!-- Edit Form -->
          <form method="POST" action="/urls/<%= id %>">
            <input type="hidden" name="_method" value="PUT">
            <div class="form-group">
              <label for="longURL">Update Long URL:</label>
              <input
                type="text"
                class="form-control"
                id="longURL"
                name="longURL"
                value="<%= longURL %>"
                required
              />
            </div>
            <button type="submit" class="btn btn-primary">Update URL</button>
          </form>
        </div>
      </div>

      <!-- QR Code Card -->
      <div class="card text-center">
        <div class="card-header">
          <h5>QR Code</h5>
        </div>
        <div class="card-body">
          <p class="card-text">Scan this QR code to access your short URL:</p>
          <img 
            src="/urls/<%= id %>/qr" 
            alt="QR Code for <%= id %>" 
            class="img-fluid modal-qr-image"
          />
          <br><br>
          <a 
            href="/urls/<%= id %>/qr" 
            download="qrcode-<%= id %>.png" 
            class="btn btn-info">
            Download QR Code
          </a>
        </div>
      </div>
    </main>
  </body>
</html>